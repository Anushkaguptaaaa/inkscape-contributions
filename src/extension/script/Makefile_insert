## Makefile.am fragment sourced by src/Makefile.am.

extension/script/all: extension/script/libscript.a

extension/script/clean:
	rm -f extension/script/libscript.a
	rm -f $(extension_script_libscript_a_OBJECTS)
	rm -f extension/script/inkscape_perl_wrap.cpp
	rm -f extension/script/inkscape_perl.pm
	rm -f extension/script/inkscape_perl.pm.h
	rm -f extension/script/inkscape_py_wrap.cpp
	rm -f extension/script/inkscape_py.py
	rm -f extension/script/inkscape_py.py.h

extension_script_libscript_a_SOURCES =	\
	extension/script/InkscapeBinding.h \
	extension/script/InkscapeBinding.cpp \
	extension/script/InkscapeExtension.h \
	extension/script/InkscapeExtension.cpp \
	extension/script/InkscapeInterpreter.h \
	extension/script/InkscapeInterpreter.cpp \
	extension/script/InkscapePerl.h \
	extension/script/InkscapePerl.cpp \
	extension/script/inkscape_perl_wrap.cpp \
	extension/script/InkscapePython.h \
	extension/script/InkscapePython.cpp \
	extension/script/inkscape_py_wrap.cpp \
	extension/script/InkscapeScript.h \
	extension/script/InkscapeScript.cpp

#
# Should only InkscapeBinding.h be the only 'master file,'
# and be the only file in the repository, or should I do this
# manually, and check in the 6 output files?  This would save
# the rest of the developers a lot of headaches, but they will
# get a lot of updates from cvs as InkscapeBinding is developed.
#

inkscape_py_wrap.cpp: InkscapeBinding.h inkscape_py.i
	swig -c++ -python -o inkscape_py_wrap.cpp inkscape_py.i
	perl quotefile.pl inkscape_py.py inkscape_py.py.h

inkscape_perl_wrap.cpp: InkscapeBinding.h inkscape_perl.i
	swig -c++ -perl5 -static -o inkscape_perl_wrap.cpp inkscape_perl.i 
	perl quotefile.pl inkscape_perl.pm inkscape_perl.pm.h

